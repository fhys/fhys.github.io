{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Welcome to Liang Huawen's Blog","text":""},{"location":"Publications/","title":"Publications","text":"<ul> <li>1</li> <li>2</li> <li>3</li> </ul>"},{"location":"blog/","title":"Blog","text":""},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/","title":"TENET\u7b14\u8bb0","text":"<ul> <li>TENET: A Framework for Modeling Tensor Dataflow Based on Relation-centric Notation</li> <li>\u4f5c\u8005\uff1a \u5362\u4e3d\u5f3a\uff0c\u7f57\u5b50\u748b\uff0c\u6881\u4e91*</li> <li>\u5355\u4f4d\uff1a\u5317\u4eac\u5927\u5b66</li> <li>ISCA\u201821</li> </ul>"},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/#1abstract","title":"1.Abstract","text":"<p>\u63d0\u51fa\u4e00\u79cd\u4ee5\u5173\u7cfb\u4e3a\u4e2d\u5fc3\u7684\u8868\u793a\u6cd5(relation-centric notation)\u6765\u63cf\u8ff0\u5f20\u91cf\u8ba1\u7b97\u7684\u786c\u4ef6\u6570\u636e\u6d41\u3002relation-centric notation\u6307\u5b9a\u4e86\u786c\u4ef6\u6570\u636e\u6d41\u3001PE\u4e92\u8054\u548c\u6570\u636e\u5206\u914d\u3002\u901a\u8fc7\u590d\u6742\u7684\u4eff\u5c04\u53d8\u6362(\u57fa\u4e8e\u591a\u9762\u4f53\u5e93isl\u3001barvinok)\uff0c\u76f8\u6bd4\u8ba1\u7b97\u4e3a\u4e2d\u5fc3\u548c\u6570\u636e\u4e3a\u4e2d\u5fc3\u7684\u8868\u793a\u66f4\u5177\u8868\u73b0\u529b\uff0c\u652f\u6301\u7cbe\u786e\u7684\u6570\u636e\u590d\u7528\u3001\u5e26\u5bbd\u3001\u5ef6\u8fdf\u4ee5\u53ca\u80fd\u91cf\u4f30\u8ba1\u3002\u548c\u6700\u5148\u8fdb\u7684\u6570\u636e\u4e3a\u4e2d\u5fc3\u7684\u8868\u793a\u76f8\u6bd4\uff0c\u53ef\u4ee5\u83b7\u5f97\u66f4\u590d\u6742\u7684\u6570\u636e\u6d41\uff0c\u4f7f\u5f97CONV\u548cGEMM\u8ba1\u7b97kernel\u7684\u5ef6\u8fdf\u5206\u522b\u51cf\u5c11\u4e8637.4%\u548c51.4%\u3002</p>"},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/#2introduction","title":"2.Introduction","text":"<p>\u7a7a\u95f4\u67b6\u6784\u5b9a\u4e49\u4e3a\u7531PE\u9635\u5217\u548cmemory hierarchy\u7ec4\u6210\u7684\u67b6\u6784\uff0cPE\u901a\u8fc7\u7247\u4e0a\u4e92\u8054\u5b9e\u73b0\u6570\u636e\u590d\u7528\u3002</p> <p>\u7a7a\u95f4\u67b6\u6784\u901a\u8fc7\u591a\u79cd\u53ef\u9009\u7684\u6570\u636e\u6d41\u8fdb\u884c\u5212\u5206\u3002\u5f20\u91cf\u8ba1\u7b97\u63cf\u8ff0\u4e3a\u4e00\u4e2a\u5d4c\u5957\u5faa\u73af\uff0c\u4e00\u4e2a\u786c\u4ef6\u6570\u636e\u6d41\u88ab\u63cf\u8ff0\u4e3a</p> <ol> <li>\u5faa\u73af\u5b9e\u4f8b\u88ab\u5206\u914d\u7ed9PE\u9635\u5217</li> <li>PE\u4e0a\u4e0a\u5faa\u73af\u5b9e\u4f8b\u7684\u6267\u884c\u987a\u5e8f</li> </ol> C++<pre><code>for(m=1;m&lt;M;m++)\n    for(n=1;n&lt;N;n++)\n        for(k=1;k&lt;K;k++)\n            S:C[m,n] += A[m,k]*B[k,n]\n</code></pre> <p>\u5bf9\u4e8e\u4ee5\u4e0a\u4e00\u4e2a\u77e9\u9635\u4e58\u6cd5\u7684\u4e09\u91cd\u5faa\u73af\uff0c\u6709\u4e09\u7ef4\u8fed\u4ee3\u7a7a\u95f4\uff0c\u4e00\u4e2a\u5faa\u73af\u5b9e\u4f8b\u5bf9\u5e94\u4e8e\u4e00\u4e2a\u8bed\u53e5\u5b9e\u4f8b\uff0c\u5373\\(S(m,n,k)\\)\u3002\u5b9a\u4e49PE\u7684\u96c6\u5408(space-stamp)\\(\\{PE(x,y) | x\\in[1,X], y \\in [1,Y]\\}\\)\u3002</p> <p>1\u53ef\u4ee5\u88ab\u63cf\u8ff0\u4e3a\u4e00\u4e2a\u6620\u5c04\\(S(m,n,k)\\rightarrow PE(x,y)\\) </p> <p>2\u53ef\u4ee5\u63cf\u8ff0\u4e3a\\(S(m,n,k)|T(t) PE(x,y)\\rightarrow S(m',n',k')|T(t+1) PE(x,y)\\)\u200b</p> <p>\u4e4b\u524d\u7684\u4ee5\u8ba1\u7b97\u4e3a\u4e2d\u5fc3\u548c\u6570\u636e\u4e3a\u4e2d\u5fc3\u7684\u8868\u793a\u4e0d\u80fd\u5b8c\u6574\u8868\u793a\u8bbe\u8ba1\u7a7a\u95f4\uff0c\u5982\u4e0d\u80fd\u505a\u4eff\u5c04\u53d8\u6362\u3002\u4ee5\u8ba1\u7b97\u4e3a\u4e2d\u5fc3\u7684\u8868\u793a\u4e0d\u80fd\u76f4\u63a5\u5bf9\u6570\u636e\u4f20\u8f93\u548c\u91cd\u7528\u8fdb\u884c\u5efa\u6a21\u3002\u6570\u636e\u4e2d\u5fc3\u7684\u8868\u793a\u5efa\u6a21\u6ca1\u6709\u663e\u793a\u7684\u63cf\u8ff0\u5f20\u91cf\u5143\u7d20\u7684\u7ef4\u5ea6\uff0c\u8ba1\u7b97\u7684\u6027\u80fd\u7684\u6307\u6807\u4e0d\u591f\u51c6\u786e\u3002</p> <p>\u63d0\u51fa\u5173\u7cfb\u4e2d\u5fc3\u7684\u8868\u793a\uff0c\u5f62\u5f0f\u5316\u7684\u5b9a\u4e49\u4e86</p> <ul> <li>\u5faa\u73af\u5b9e\u4f8b\u548cPE\u7684\u5173\u7cfb</li> <li>\u5faa\u73af\u5b9e\u4f8b\u5728PE\u4e0a\u6267\u884c\u987a\u5e8f</li> <li>PE\u4ee5\u53ca\u76f8\u5e94\u88ab\u8d4b\u4e88\u7684\u5f20\u91cf\u5143\u7d20\u7684\u5173\u7cfb</li> <li>PE\u95f4\u7684\u4e92\u8054\u5173\u7cfb</li> </ul> <p>\u524d\u4e24\u70b9\u63cf\u8ff0\u4e86\u6570\u636e\u6d41\uff0c\u7b2c\u4e09\u70b9\u63cf\u8ff0\u4e86PE\u5f20\u91cf\u5143\u7d20\u662f\u4ec0\u4e48\u65f6\u5019\u88ab\u54ea\u4e2aPE\u8bbf\u95ee\uff0c\u7b2c\u56db\u70b9\u63cf\u8ff0\u5f20\u91cf\u5143\u7d20\u662f\u5982\u4f55\u5728PE\u95f4\u79fb\u52a8\u7684\u3002</p>"},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/#3backround","title":"3.Backround","text":""},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/#31-notation-basics","title":"3.1 Notation Basics","text":"<p>\u200b\u200b</p> <ul> <li> <p>\u8fed\u4ee3\u57df(Iteration Domain)</p> </li> <li> <p>\u4e00\u4e2a\u5177\u6709\u4e00\u4e2a\u8bed\u53e5S\u7684\u5d4c\u5957\u5faa\u73af\uff0c\u5176\u8fed\u4ee3\u57df\\(D_S\\)\u662f\u5305\u542b\u6240\u6709\u5faa\u73af\u5b9e\u4f8b\u7684\u96c6\u5408\uff0c\u6bcf\u4e2a\u5faa\u73af\u5b9e\u4f8b\u53ef\u4ee5\u8868\u793a\u4e3a\\(S[\\vec{n}]\\)\uff0c\u662f\\(D_S\\)\u4e2d\u7684\u4e00\u4e2a\u70b9\u3002</p> </li> <li>\u5982\u5bf9\u4e8e\u4e00\u4e2a\u4e00\u7ef4\u5377\u79ef\uff0c\u5176\u8fed\u4ee3\u57df\u8bb0\u4e3a\\(D_S=\\{S[i,j]:0\\leq i&lt;4,0\\leq j&lt;3\\}\\)</li> <li> <p>\u8bbf\u95ee\u51fd\u6570(Access Function)</p> </li> <li> <p>\u7ed9\u5b9a\u4e00\u4e2a\u5faa\u73af\u5b9e\u4f8b\uff0c\u8bbf\u95ee\u51fd\u6570\u8fd4\u56de\u8bed\u53e5S\u8bbf\u95ee\u7684\u5f20\u91cf\u5143\u7d20\u3002\u4f7f\u7528\u4e00\u4e2a\u5173\u7cfb(\u6620\u5c04)\u6765\u8868\u5f20\u91cf\\(F\\)\u7684\u8bbf\u95ee\u51fd\u6570\u3002</p> </li> <li> \\[     \\begin{equation}     A_{S,F} = \\{S[\\vec{n}]\\rightarrow F[\\vec{f}]\\}     \\end{equation}     \\] </li> <li> \\[     \\vec{f} = A_{S,F}\\vec{n}     \\] </li> <li>\u5bf9\u4e8eFig.1\u4e2d\u7684\u4e00\u7ef4\u5377\u79ef\uff0c\u5f20\u91cf\\(Y\\)\u7684\u8bbf\u95ee\u51fd\u6570\u662f\\(\\{S[i,j]\\rightarrow Y[i]: 0\\leq i &lt;4, 0\\leq j &lt;3\\}\\)\uff0c\u8868\u793a\u5faa\u73af\u5b9e\u4f8b\\(S[i,j]\\)\u8bbf\u95ee\u5f20\u91cf\u5143\u7d20\\(Y[i]\\)\uff0c\u53ef\u8868\u793a\u4e3a\u5982\u4e0b\u5f62\u5f0f</li> <li> \\[     \\vec{f}=     \\begin{bmatrix}      0 &amp;1     \\end{bmatrix}     \\vec{n}     \\] </li> </ul>"},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/#32","title":"3.2 \u73b0\u6709\u6570\u636e\u6d41\u8868\u793a\u7684\u9650\u5236","text":"<p>\u200b\u200b</p> <p>\u4e0d\u652f\u6301\u504f\u659c\u7684\u6570\u636e\u8bbf\u95ee</p>"},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/#4","title":"4 \u5173\u7cfb\u8bb0\u53f7","text":""},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/#41-dataflow-relation","title":"4.1 Dataflow Relation","text":"<p>\u7ed9\u5b9a\u8bed\u53e5\\(S\\)\u548c\u8fed\u4ee3\u57df\\(D_S\\)\uff0c\u4ee5\u53ca\u76f8\u5e94\u7684\u8fed\u4ee3\u5411\u91cf\\(\\vec{n}\\)\uff0cdataflow\u88ab\u5b9a\u4e49\u4e3a\u5982\u4e0b\u5f62\u5f0f</p> \\[ \\begin{equation} \\Theta_{S,D}=\\{S[\\vec{n}]\\rightarrow(PE[\\vec{p}]\\; |\\;T[\\vec{t}])\\}, \\quad S[\\vec{n}] \\in D_S  \\end{equation} \\] <p>space-stamp\u5c31\u662fPE\u7684\u5750\u6807\uff0ctime-stamp\u5c31\u662f\u5faa\u73af\u5b9e\u4f8b\u5728PE\u4e0a\u6267\u884c\u7684\u65f6\u95f4\u3002\u6240\u4ee5\\(\\Theta_{S,D}\\)\u63cf\u8ff0\u4e86\u5faa\u73af\u5b9e\u4f8b\\(S[\\vec{n}]\\)\u5982\u4f55\u88ab\u4ed8\u7ed9\u4e86\u4e00\u4e2aspacetime-stamp(\u5373space-stamp\u4e3a\\(PE[\\vec{p}]\\)\uff0ctime-stamp\u662f\\(T[\\vec{t}]\\))\uff0c\u6267\u884c\u987a\u5e8f\u662f\u7531\u4e24\u4e2a\u65f6\u95f4\u6233\u7684\u5b57\u5178\u5e8f(lexicograohical order)\u51b3\u5b9a\u7684\u3002\\(\\vec{p}\\)\u662f\u548cPE\u9635\u5217\u7684\u7ef4\u5ea6\u76f8\u540c\u7684\u591a\u7ef4\u5411\u91cf\u3002\\(\\vec{t}\\)\u53ef\u4ee5\u662f\u591a\u7ef4\u5411\u91cf\uff0c\u56e0\u4e3aPE\u9635\u5217\u7684\u5927\u5c0f\u53ef\u4ee5\u5c0f\u4e8e\u6574\u4e2a\u8fed\u4ee3\u57df\uff0c\u5373\u4f7f\u7528\u6709\u591a\u4e2a\u7ef4\u5ea6\u7684\u7d22\u5f15\uff0c\u5982\u5377\u79ef\u7f51\u7edc\uff0c\u5c06OX\u548cOY\u8fdb\u884c\u7a7a\u95f4\u5c55\u5f00\uff0c\u4f7f\u7528\\((b,g,k,c)\\)\u6765\u7d22\u5f15\u65f6\u95f4\u3002</p> <p>\u8109\u52a8\u9635\u5217\u53ef\u4ee5\u8868\u793a\u4e3a</p> \\[ \\begin{equation} \\Theta_{S,D}=\\{ S[i,j,k] \\rightarrow (PE[i,j]\\; | \\; T[i+j+k])\\} \\end{equation} \\] <p>\u53ef\u4ee5\u901a\u8fc7\u6574\u6570\u7ebf\u6027\u89c4\u5212\u6765\u5f97\u5230\u76f8\u5e94\u7684\u6570\u636e\u6d41\uff0c\u5373\u5728\u65f6\u523bt\u65f6\uff0c\u54ea\u4e9bPE\u6267\u884c\u54ea\u4e2a\u5faa\u73af\u5b9e\u4f8b\u3002\u5bf9\u4e8e\u65f6\u95f4\u6233\\(T[1]\\)\uff0c\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u7684\u65b9\u7a0b\u548c\u7ea6\u675f\uff0c\u4ee5\u53ca\u76f8\u5e94\u7684\u8981\u88ab\u6267\u884c\u7684\u5faa\u73af\u5b9e\u4f8b</p> \\[ \\begin{gather*} i+j+k=1\\\\ constraint:0\\leq i,j \\lt 2, 0\\leq k \\lt 4 \\\\ loop\\; instance:[i,j,k]=[0,0,1],[1,0,0],[0,1,0] \\end{gather*} \\] <p>\u76f8\u5bf9data-centric\u548ccompute-centric\u7684\u8bb0\u6cd5\uff0c\u5177\u6709\u80fd\u591f\u8868\u8fbe\u66f4\u5927\u8bbe\u8ba1\u7a7a\u95f4\u3002\u5bf9\u4e8e\u4e00\u4e2a2\u7ef4PE\u9635\u5217\uff0c\u5728data-centric\u7684\u8bb0\u53f7\u4e2d\uff0c\u4ee4\\(size\\)\u548c\\(offset\\)\u90fd\u4e3a1(\\(size\\)\u51b3\u5b9a\u4e86\u8fd9\u4e2a\u7ef4\u5ea6\u7a7a\u95f4\u5c55\u5f00\uff0c\u5176\u5b50\u9635\u5217\u7684\u5927\u5c0f\uff0c\\(offset\\)\u51b3\u5b9a\u5b50\u9635\u5217\u5206\u914d\u7684\u8303\u56f4\uff0c\u5982\u679c\u5b50\u9635\u5217Sub[0]\u5206\u914d\u4e86[0,1]\uff0cSub[1]\u5206\u914d\u4e86[2,3],\u5219offset\u4e3a2\uff0c\u5982\u679cSub[0]\u5206\u914d\u4e86[0,2]\uff0cSub[1]\u5206\u914d\u4e86[1,3],offset\u4e3a1)\uff0c\u5176\u8bbe\u8ba1\u7a7a\u95f4\u5927\u5c0f\u4e3a\\(n!\\binom{n}{2}\\)\uff08\\(n!\\)\u662f\u7ef4\u5ea6\u987a\u5e8f\uff0c\\(\\binom{n}{2}\\)\u662f\u9009\u62e9\u4e24\u4e2a\u7ef4\u5ea6\u8fdb\u884c\u7a7a\u95f4\u5c55\u5f00\uff09\uff1b\u800c\u5bf9\u4e8eTENET\u7684\u8bbe\u8ba1\u7a7a\u95f4\u5927\u5c0f\u4e3a\\(O(2^{n^{2}})\\)\uff08\u5c06\u4e00\u79cd\u4eff\u5c04\u53d8\u6362\u770b\u4f5c\u4e00\u79cd\u6570\u636e\u6d41\uff0c\u4eff\u5c04\u53d8\u6362\u662f\u4e00\u4e2an*n\u7684\u77e9\u9635\uff0c\u6bcf\u4e2a\u5143\u7d20\u53ef\u4ee5\u53d60\u548c1\uff0c\u53bb\u9664\u4e00\u4e9b\u4e0d\u7b26\u5408\u9700\u6c42\u7684\u60c5\u51b5,\u56e0\u6b64\u662f\\(O(2^{n^2})\\))</p> <p>\u4eff\u5c04\u53d8\u6362\u7684\u5f62\u5f0f\u5982\u4e0b\uff0c\u5176\u4e2d\\(\\Theta_{S,D}\\)\u662f\u4eff\u5c04\u53d8\u6362\u77e9\u9635\uff0c\u5bf9\u5e94\u4e8e\u6570\u636e\u6d41\u6620\u5c04\\(\\Theta_{S,D}\\)\u200b</p> \\[ \\vec{ST}=\\begin{bmatrix}  \\vec{p}\\\\ \\vec{t} \\end{bmatrix} =\\Theta_{S,D}\\vec{n} \\] <p>\u5bf9\u4e8eEq.3\u7684\u6570\u636e\u6d41\uff0c\\(T_{dataflow}\\)\u5f62\u5f0f\u5982\u4e0b</p> \\[ \\Theta_{S,D}= \\begin{bmatrix}   1 &amp;  &amp; \\\\     &amp;1 &amp; \\\\   1 &amp;1 &amp;1 \\end{bmatrix} \\] \\[ \\vec{p}= \\begin{bmatrix}   1 &amp;0  &amp;0 \\\\   0  &amp;1 &amp;0  \\end{bmatrix} \\vec{n} ,\\quad  \\vec{t}= \\begin{bmatrix}   1 &amp;1  &amp;1  \\end{bmatrix} \\vec{n} \\] <p>\u5bf9\u4e8e\u7ef4\u5ea6\u5927\u5c0f\u5927\u4e8ePE\u9635\u5217\u5c3a\u5bf8\u7684\uff0c\u52a0\u5165\u6c42\u4f59\u548c\u9664\u6cd5\u8bb0\u53f7\u6765\u652f\u6301(\u62df\u4eff\u5c04\u53d8\u6362\uff0cquasi-affine transformation)</p> \\[ \\Theta_{S,D}=\\{ S[i,j,k] \\rightarrow (PE[i\\ mod\\ 8,\\ j \\ mod \\ 8]\\; | \\; T[i/8,j/8,(i\\ mod\\ 8+\\ j \\ mod \\ 8+k)])\\} \\]"},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/#42-data-assignment-relation","title":"4.2 Data Assignment Relation","text":"<p>data assignment relation\u662f\u6307\u7279\u5b9aPE\u5728\u7279\u5b9a\u65f6\u523b\u8bbf\u95ee\u7684\u5143\u7d20\uff0c\u5373spacetime-stamp\u5230\u5143\u7d20\u7684\u6620\u5c04\uff0c\u7531\u8bbf\u95ee\u51fd\u6570\u662f\u5faa\u73af\u5b9e\u4f8b\u5230\u5143\u7d20\u7684\u6620\u5c04\uff0c\u6570\u636e\u6d41\u662f\u5faa\u73af\u5b9e\u4f8b\u5230spacetime-stamp\u7684\u6620\u5c04\uff0c\u6240\u4ee5\u53ef\u4ee5\u7531\u6570\u636e\u6d41\u548c\u8bbf\u95ee\u51fd\u6570\u5f97\u5230data assignment relation</p> \\[ \\begin{aligned} \\vec{ST}=\\Theta_{S,D}\\vec{n}  \\quad \\Longrightarrow \\quad  \\vec{n} = \\Theta_{S,D}^{-1}\\vec{ST}\\\\ \\vec{f}=A_{S,F}\\vec{n}=A_{S,F}\\Theta_{S,D}^{-1}\\vec{ST}=A_{D,F}\\vec{ST} \\end{aligned} \\] \\[ \\begin{equation} A_{D,F} = \\Theta_{S,D}^{-1}\\cdot A_{S,F}=\\{(PE[\\vec{p}]\\ |\\ T[\\vec{t}])\\rightarrow F[\\vec{f}]\\} \\end{equation} \\] <p>\u5bf9\u4e0b\u56fe\u6240\u793a\u7684\u6570\u636e\u6d41\uff0ctensor Y\u7684\u6570\u636e\u8d4b\u4e88\u53ef\u4ee5\u8868\u793a\u4e3a $$ A_{D,F_Y}={(PE[i,j]\\ | \\ T[i+j+k])\\rightarrow Y[i,j]} $$</p> \\[ A_{S,F}\\Theta_{S,D}^{-1}= \\begin{pmatrix}   1 &amp;0  &amp;0 \\\\   0  &amp;1 &amp;0  \\end{pmatrix} \\begin{pmatrix}   1 &amp;  &amp; \\\\     &amp;1 &amp; \\\\   1 &amp;1 &amp;1 \\end{pmatrix}^{-1} = \\begin{pmatrix}   1 &amp;0  &amp;0 \\\\   0  &amp;1 &amp;0  \\end{pmatrix} \\begin{pmatrix}   1 &amp;  &amp; \\\\     &amp;1 &amp; \\\\   -1 &amp;-1 &amp;1 \\end{pmatrix} = \\begin{pmatrix}   1 &amp;0  &amp;0 \\\\   0  &amp;1 &amp;0  \\end{pmatrix} \\] <p>\u200b\u200b</p> <p>\u200d</p>"},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/#43-pe-interconnection","title":"4.3 PE interconnection","text":"<p>\u5bf9\u4e8e\u4e00\u4e2aPE\u9635\u5217\uff0cPE\u4e92\u8054\u662f\u4e00\u4e2a\u96c6\u5408\uff0c\u96c6\u5408\u5185\u7684\u6bcf\u4e2a\u5143\u7d20\u662f\u63cf\u8ff0\u4e00\u4e2aPE\u5230\u53e6\u5916\u4e00\u4e2aPE\u7684\u6620\u5c04(PE\u4f5c\u4e3a\u9876\u70b9\uff0c\u4e92\u8054\u5c31\u662f\u8fb9)</p> \\[ \\begin{equation} I_{PE_1,PE_2}=\\{PE[\\vec{p_1}]\\rightarrow PE[\\vec{p_2}]\\}\\ :c_1,...,c_k \\end{equation} \\] <p>\u5176\u4e2d\\(c_1,...,c_k\\)\u662f\u7528\u4e8e\u6307\u5b9a\u62d3\u6251\u7684\u6761\u4ef6\u3002\u5bf9\u4e8eFig. 3\u76842D\u8109\u52a8\u9635\u5217\uff0cPE\u80fd\u591f\u590d\u7528\u90bb\u8fd1PE\u7684\u8f93\u5165\u6570\u636e\u3002TENET\u5efa\u6a21\u4e86\u4e09\u79cd\u4e92\u8054</p> <p>\u200b\u200b</p>"},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/#44-spacetime-stamp-map-relation","title":"4.4 Spacetime-stamp Map Relation","text":"<p>\u901a\u8fc7data assignment\u548cinterconnection relation\uff0c\u57fa\u4e8e\u88ab\u8bbf\u95ee\u5143\u7d20\u548c\u5143\u7d20\u7684\u79fb\u52a8\uff0c\u53ef\u4ee5\u5173\u8054\u4e0d\u540c\u7684spacetime-stamp</p> <p>\u7ed9\u5b9a\u4e00\u4e2adataflow\uff0cspacetime-map\u662f\u4e00\u4e2a\u6620\u5c04\u7684\u96c6\u5408\uff0c\u5143\u7d20\u5c06\u4e00\u4e2aspacetime-stamp\u6620\u5c04\u5230\u53e6\u5916\u4e00\u4e2aspacetime-stamp\uff0c\u5373spacetime-stamp\u95f4\u7684\u6267\u884c\u987a\u5e8f\u3002\u5982\u679c\u4ee5spacetime-stamp\u4e3a\u9876\u70b9\u5efa\u7acb\u4e00\u4e2a\u56fe\uff0cspacetime-map\u5c31\u662f\u8fb9\u3002</p> \\[ M_{D,D'}=\\{(PE[\\vec{p_1}]\\ |\\ T[\\vec{t_1}])\\rightarrow (PE[\\vec{p_1}]\\ |\\ T[\\vec{t_1}])\\} \\] <p>\u901a\u8fc7\u4f7f\u7528data assignment relation\u8bc6\u522bspacetime-stamp\u6240\u7528\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u627e\u5230\u6570\u636e\u7684\u65f6\u7a7a\u590d\u7528\u3002</p> <p>\u5047\u8bbe\\(D\\)\u548c\\(D'\\)\u7684\u65f6\u95f4\u8ddd\u79bb\u5c0f\u4e8e\u7b49\u4e8e1\uff0c\\(D\\)\u548c\\(D'\\)\u6240\u6307\u5b9a\u7684PE\u662f\u4e92\u8054\u7684\uff0c\u5bf9\u4e8eFig.3\u53ef\u4ee5\u7ed9\u51fa3\u4e2amap</p> <p>\u200b\u200b</p> <p>map 1\u7ed3\u5408\\(A_{D,F_Y}\\)\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u5f0f\u5b50\uff0c\u4ece\u800c\u5f97\u5230Y[0,0]\u7684\u65f6\u95f4\u590d\u7528\uff0c\u540c\u7406\u53ef\u4ee5\u5728map 2\u548c3\u5f97\u5230A\u548cB\u7684\u7a7a\u95f4\u590d\u7528</p> <p>\u200b\u200b</p> <p>\u53ef\u4ee5\u901a\u8fc7spacetime-stamp map\u7ed3\u5408data assignment relation\u5f97\u5230\u6570\u636e\u7684\u65f6\u95f4\u548c\u7a7a\u95f4\u590d\u7528</p>"},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/#5","title":"5 \u6027\u80fd\u6a21\u578b","text":"<p>\u901a\u8fc7relation\u6765\u5efa\u6a21\u6027\u80fd</p>"},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/#51-data-reuse-and-volume-model","title":"5.1 data reuse and volume model","text":"<p>\u200b\u200b</p> <p>\u4f7f\u7528\\(sum()\\)\u51fd\u6570\u6765\u8ba1\u7b97\u5bb9\u91cfvolume\uff0c\u5373\u8ba1\u7b97\u96c6\u5408\u7684\u52bf\u3002</p> <ul> <li> <p>TotalVolume\uff1a\u901a\u8fc7\u6574\u4e2aspacetime-stamp\u8ba1\u7b97\u603b\u5171\u88ab\u8bbf\u95ee\u7684\u5143\u7d20\u6570</p> </li> <li> <p>\u200b\u200b</p> </li> <li>\u200b\u200b</li> <li>Fig. 5(a)\u6240\u793a\u4e0d\u540ctime-stamp\u8bbf\u95ee\u7684\u6570\u636e\uff0c\u5305\u542b\u4e86\u590d\u7528</li> <li> <p>ReuseVolume\uff1a\u662f\u591a\u4e2aspacetime-stamp\u4e2d\u6570\u636e\u7684\u590d\u7528\u6570\u91cf</p> </li> <li> <p>\u5bf9\u4e8eFig. 5(a),\u590d\u7528\u662f\u76f8\u90bb\u4e24\u4e2aspacetime-stamp\u4e2d\u91cd\u53e0\u7684\u90e8\u5206\u7684\u6570\u91cf\u3002</p> </li> <li>\u7531spacetime-map \\(M_{D,D'}\\)\u51b3\u5b9a\u4e24\u4e2aspacetime-stamp\u76f8\u90bb\uff0cspacetime-stamp map\u88abinterconnection relation\u9650\u5236\u3002</li> <li>\u5373\u53ea\u6709\u6ee1\u8db3\u7b49\u5f0f5\u7684\u4e24\u4e2aPE\u624d\u80fd\u8d21\u732e\u590d\u7528\uff08\u5373\u8bbf\u95ee\u4e86\u76f8\u540c\u5143\u7d20\uff0c\u4f46\u4e24\u4e2aPE\u4e0d\u76f8\u90bb\u4e5f\u662f\u4e0d\u6ee1\u8db3\u590d\u7528\u3002</li> <li>\u540c\u65f6time-stamp\u4e5f\u9650\u5236\u590d\u7528\u53d1\u751f\u3002\u5bf9\u4e8e\u8109\u52a8\u9635\u5217\uff0c\u65f6\u95f4\u7ea6\u675f\u8bbe\u7f6e\u4e3a1\uff0c\u5373\u76f8\u90bb\u4e24\u4e2atime-stamp\u95f4\u4f1a\u53d1\u751f\u590d\u7528\uff1b\u5bf9\u4e8e\u591a\u64ad\uff0c\u65f6\u95f4\u7ea6\u675f\u8bbe\u7f6e\u4e3a0\uff0c\u5373\u540c\u4e00\u4e2atime-stamp\u5185\u53d1\u751f\u7ea6\u675f\u3002</li> <li> <p>\u200b\u8109\u52a8\u9635\u5217</p> </li> <li> <p>UniqueVolume\uff1a\u88ab\u552f\u4e00\u8bbf\u95ee\u7684\u5f20\u91cf\u6570\u636e\u3002Fig. 5(a)\u4e2dUniqueVolume\u968f\u65f6\u95f4\u9010\u6e10\u6269\u5f20</p> </li> <li> <p>\u548c\u6570\u636e\u590d\u7528\u7c7b\u4f3c\uff0c\u5fc5\u987b\u8003\u8651\u76f8\u90bbspacetime-stamp\uff0c\u590d\u7528\u53ea\u53d1\u751f\u5728\u76f8\u90bbspacetime-stamp\u4e2d\uff0c\u6240\u4ee5\u76f8\u90bbspacetime-stamp\u4e2d\u65b0\u51fa\u73b0\u7684\u6570\u636e\u5219\u53ef\u4ee5\u8ba4\u4e3a\u662fUnique\u3002(\u4ece\u9635\u5217\u7ea7\u8003\u8651\uff09</p> </li> <li>\u7ed9\u51fa\u7684\u662f\u9635\u5217\u548cscratchpad\u4e4b\u95f4\u4f20\u8f93\u6240\u9700\u7684\u6700\u5c0f\u6570\u636e\u5927\u5c0f\u3002</li> <li>\u200b\u200b</li> <li>ReuseFactor</li> <li>SpatialReuseVolume\uff1a\u5728\u591a\u4e2aPE\u95f4\u590d\u7528\u6570\u636e\u7684\u6570\u91cf\uff0c\u5305\u542b\u5e7f\u64ad\u548c\u8109\u52a8\u9635\u5217\u7684\u524d\u9012(forwarding)</li> <li>TemporalReuseVolume\uff1a\u5728\u76f8\u540cPE\u91cc\u7684\u591a\u4e2a\u65f6\u95f4\u6233\u4e4b\u95f4\u7684\u590d\u7528</li> </ul>"},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/#52","title":"5.2 \u5ef6\u8fdf\u548c\u5e26\u5bbd\u6a21\u578b","text":"<p>\u5047\u8bbebuffer\u3001network\u548c\u7b97\u672f\u5355\u5143\u6d41\u6c34\u7ebf\u5de5\u4f5c\uff0c\u5e76\u4e14\u4f7f\u7528\u4e86double buffer\u6765\u9690\u85cf\u5ef6\u8fdf\u3002\u6240\u4ee5\u6574\u4f53\u5ef6\u8fdf\u4e3a\u901a\u4fe1\u548c\u8ba1\u7b97\u5ef6\u8fdf\u7684\u6700\u5927\u503c\u3002</p> <ul> <li>\u57fa\u4e8eUniqueVolume\u6765\u8bc4\u4f30PE\u9635\u5217\u548cscratchpad\u4e4b\u95f4\u7684\u6570\u636e\u642c\u8fd0\u91cf\u3002\u901a\u4fe1\u5ef6\u8fdf\u4e3a</li> </ul> \\[ \\begin{equation}     \\begin{aligned}         Delay_{read}=\\frac{UniqueVolume(Input)}{bandwidth}\\\\         Delay_{write}=\\frac{UniqueVolume(Output)}{bandwidth}     \\end{aligned} \\end{equation} \\] <p>\u6b64\u5904\u7684\\(bandwidth\\)\u662fscratchpad\u7684\u5e26\u5bbd\u3002</p> <ul> <li>\u8ba1\u7b97\u5ef6\u8fdf\u6240\u6709\u5faa\u73af\u5b9e\u4f8b\u6570\u9664\u4ee5\u5e73\u5747\u7684PE\u6d3b\u8dc3\u6570</li> </ul> \\[ \\begin{equation} Delay_{compute}=\\frac{sum(D_S)}{Util_{PE}\\times PE\\ size} \\end{equation} \\] <ul> <li>\u901a\u8fc7\u8ba1\u7b97\u5ef6\u8fdf\uff0c\u53ef\u4ee5\u8ba1\u7b97\u4e92\u8054\u5e26\u5bbd\u548cscratchpad\u5e26\u5bbd\u3002\u4e92\u8054\u5e26\u5bbd\u4e3a\uff1a</li> </ul> \\[ \\begin{equation} IBW=\\frac{SpatialReuseVolume}{Delay_{compute}} \\end{equation} \\] <ul> <li>SBW\u662fPE\u9635\u5217\u548cscratchpad\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93\u5e26\u5bbd\uff0c\u4f7f\u7528\u5f52\u4e00\u5316\u7684(?)\u7684UniqueVolume\u548c\u8ba1\u7b97\u5ef6\u8fdf\u6765\u4f30\u8ba1</li> </ul> \\[ \\begin{equation} SBW=\\frac{UniqueVolume}{Delay_{compute}} \\end{equation} \\]"},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/#6","title":"6 \u5b9e\u9a8c","text":""},{"location":"blog/2024/07/19/tenet%E7%AC%94%E8%AE%B0/#61","title":"6.1 \u5b9e\u9a8c\u8bbe\u7f6e","text":"<p>\u200d</p>"},{"location":"blog/archive/2024/","title":"2024","text":""}]}